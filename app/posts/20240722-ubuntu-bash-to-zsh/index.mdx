---
title: 'Ubuntuã§bashã‹ã‚‰zshã«å¤‰æ›´ã—ã¦è¦‹ãŸç›®ã‚‚ã‹ã£ã“ã‚ˆãã™ã‚‹'
description: 'zshã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒã„ã‚ã„ã‚ã§ãã‚‹ã¿ãŸã„ãªã®ã§ã€æ–°ã—ãUbuntuç’°å¢ƒã‚’æ‰‹ã«ã—ãŸæ©Ÿä¼šã«ãŸã‚ã—ã¦ã¿ã¾ã—ãŸã€‚'
published: '2024-07-22'
modified:
---

1. zshã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
sudo apt update
sudo apt install zsh
```


2. zshã®ç¢ºèª

```bash
zsh --version
```


3. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚·ã‚§ãƒ«ã‚’zshã«å¤‰æ›´

```bash
chsh -s $(which zsh)
```

ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¾Œã¯å†ãƒ­ã‚°ã‚¤ãƒ³ã‹å†èµ·å‹•ãŒå¿…è¦ã§ã™ã€‚


4. Rustç’°å¢ƒæ§‹ç¯‰

> [!NOTE]
> Rustç’°å¢ƒã¯æ§‹ç¯‰ã—ãªãã¦ã‚‚`curl`ãªã©ã‚’ä½¿ã†ã“ã¨ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ãŒã€ç§ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ã™ã¹ã¦`cargo`ã«æƒãˆãŸã‹ã£ãŸã®ã§æ§‹ç¯‰ã—ã¾ã—ãŸã€‚`cargo`ã‚’ä½¿ã‚ãšã«è¨­å®šã—ãŸã„å ´åˆã¯å…¬å¼ã‚µã‚¤ãƒˆã‚’å‚ç…§ãã ã•ã„ã€‚

è¦‹ãŸç›®ã®å¤‰æ›´ãªã©ã«rustã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ã®ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
`build-essential`ã«ã„ã‚ã„ã‚å…¥ã£ã¦ã„ã‚‹ã¿ãŸã„ã§ã™ãŒã€ãã‚Œã ã‘ã ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã®ã§è¿½åŠ ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```zsh
sudo apt install build-essential
sudo apt install pkg-config
sudo apt install libssl-dev
sudo apt install cmake
```

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨é¸æŠè‚¢ãŒå‡ºã¦ãã¾ã™ãŒã€ãã®ã¾ã¾Enterã§OKã§ã™ã€‚

```zsh
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ãŸã‚‰ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚

ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨ç¤ºã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚

```zsh
rustup -V
cargo -V
```

5. Starshipã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**Starship**ã¨ã¯ã‚·ã‚§ãƒ«ç”¨ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼Ÿã§ç°¡å˜ã«è¦‹ãŸç›®ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒã§ãã¾ã™ã€‚

å…¬å¼ã‚µã‚¤ãƒˆ
[https://starship.rs/ja-JP/](https://starship.rs/ja-JP/)

```zsh
cargo install starship --locked
```

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«åæ˜ ã•ã›ã‚‹ãŸã‚ã«`.zshrc`ã®æœ«å°¾ã«ä»¥ä¸‹ã‚’è¿½åŠ 

```zsh title=".zshrc"
eval "$(starship init zsh)"
```

starshipã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™

```zsh
starship config
```

ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§`vi`ãƒ¢ãƒ¼ãƒ‰ã«ãªã‚‹ã®ã§ã€è¨­å®šå¾Œã¯`ZZ`ã§å¤‰æ›´ã—ã¦ä¿å­˜ã§ãã¾ã™ã€‚

ç§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã—ãŸã€‚
ãã®ä»–ã®è¨­å®šé …ç›®ã¯å…¬å¼ã‚µã‚¤ãƒˆã‚’ã”è¦§ãã ã•ã„ã€‚

[https://starship.rs/ja-JP/config/](https://starship.rs/ja-JP/config/)

```zsh title='~/.config/starship.toml'
[bun]
format = 'via [ğŸ¥Ÿ $version](bold green)'

[nodejs]
format = 'via [îœ˜ $version](bold green)'
detect_extensions = ['js', 'mjs', 'cjs', 'ts', 'mts', 'cts']
detect_files = ['package.json', '.node-version', '!bunfig.toml', '!bun.lockb']
detect_folders = ['node_modules']

[git_branch]
format = 'on [î‚  $branch](bold purple)'
```


6. Sheldonã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**Sheldon**ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§ã€Rustè£½ã§é«˜é€Ÿã«å‹•ä½œã—ã¾ã™ã€‚

```zsh
cargo install sheldon
```

ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚
`$XDG_CONFIG_HOME`ã‚’å¤‰æ›´ã—ã¦ã„ãªã‹ã£ãŸã‚‰ã€`~/.config/sheldon/plugins.toml`ã«ä½œæˆã•ã‚Œã¾ã™ã€‚

è³ªå•ã‚’èã‹ã‚Œã¾ã™ãŒyesã§OKã§ã™ã€‚

```zsh
sheldon init --shell zsh
```

é€šå¸¸ã®è¨­å®šã§ã¯`.zshrc`ãƒ•ã‚¡ã‚¤ãƒ«ã«`eval "$(sheldon source)"`ã‚’è¨˜è¿°ã—ã¾ã™ãŒã€ãã‚Œã ã¨èµ·å‹•ã®ãŸã³ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ãŸã‚æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚

ãã®ãŸã‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦èµ·å‹•ã‚’é«˜é€ŸåŒ–ã—ã¦ã„ã¾ã™ã€‚

```zsh title=".zshrc"
# ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å¤‰æ•°ã«å…¥ã‚Œã‚‹
cache_dir=${XDG_CACHE_HOME:-$HOME/.cache}
sheldon_cache="$cache_dir/sheldon.zsh"
sheldon_toml="$HOME/.config/sheldon/plugins.toml"
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒãªã„ã€ã¾ãŸã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå¤ã„å ´åˆã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½œæˆ
if [[ ! -r "$sheldon_cache" || "$sheldon_toml" -nt "$sheldon_cache" ]]; then
  mkdir -p $cache_dir
  sheldon source > $sheldon_cache
fi
source "$sheldon_cache"
# ä½¿ã„çµ‚ã‚ã£ãŸå¤‰æ•°ã‚’å‰Šé™¤
unset cache_dir sheldon_cache sheldon_toml
```

`sheldon`ã§å–ã‚Šåˆãˆãš2ã¤ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…¥ã‚Œã¾ã—ãŸã€‚

```zsh title="~/.config/sheldon/plugins.toml"
[plugins.zsh-syntax-highlighting]
github = "zsh-users/zsh-syntax-highlighting"

[plugins.zsh-autosuggestions]
github = "zsh-users/zsh-autosuggestions"
```


## å‚è€ƒã‚µã‚¤ãƒˆ
<LinkCard url="https://qiita.com/yoshi_yast/items/5eaa917e567b3add55ac" />
<LinkCard url="https://zenn.dev/ryuu/articles/customize-your-terminal" />
<LinkCard url="https://qiita.com/neruneruna7/items/1569350742c686ceefbe" />
<LinkCard url="https://zenn.dev/fuzmare/articles/zsh-plugin-manager-cache" />
